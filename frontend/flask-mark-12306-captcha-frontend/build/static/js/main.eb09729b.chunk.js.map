{"version":3,"sources":["App.js","index.js"],"names":["HEADER_JSON","Layout","Header","Footer","Sider","Content","API","captcha","get","mark","RESPONSE_TIME_OUT","App","encapsulationRequestData","state","originCaptcha","message","error","requestGetCaptcha","axios","then","response","data","status","setState","result","catch","requestMarkCaptcha","post","markedCaptcha","results","renderCaptcha","style","margin","width","height","borderRadius","boxShadow","lineHeight","background","src","verticalAlign","renderResult","padding","title","bordered","JSON","stringify","className","textAlign","backgroundImage","color","span","display","alignItems","this","type","onClick","size","shape","React","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eb09729b.chunk.js","sourcesContent":["import React from 'react';\nimport {Layout, Card, message, Button, Row, Col} from \"antd\";\nimport './App.css';\nimport axios from \"axios\";\n\n\nconst { Header, Footer, Sider, Content } = Layout;\n\nconst HEADER_JSON = {\n    \"Content-Type\": \"application/json\"\n}\n\nconst appName = \"Mark12306Captcha\";\nconst version = \"v1.0\";\n\nconst API = {\n    captcha: {\n        get: `/${appName}/api/${version}/get/captcha`,\n        mark: `/${appName}/api/${version}/mark`\n    }\n}\n\nconst RESPONSE_TIME_OUT = {\n    status: \"false\",\n    message: \"response time out, maybe because server error.\"\n}\n\nconst RESPONSE_ERROR = {\n    status: \"false\",\n    message: \"server error.\"\n}\n\n\nclass App extends React.Component {\n\n    \n\n    constructor(){\n        super();\n        this.state = {\n            captcha: null,\n            result: null\n        }\n        this.requestGetCaptcha()\n    }\n\n    encapsulationRequestData = () => {\n        if (this.state.captcha){\n            return {\n                originCaptcha: this.state.captcha\n            }\n        }else {\n            message.error(\"Please first get captcha.\")\n        }\n    }\n\n    requestGetCaptcha = () => {\n        axios.get(\n            API.captcha.get,\n            HEADER_JSON\n            )\n        .then((response) => {\n            let status = response.data.status;\n            if (status === \"success\"){\n                // set success\n                this.setState({\n                    captcha: response.data.result\n                })\n            }else {\n                // set failed\n                message.error(response.data.message)\n            }\n        })\n        .catch(() => {\n            // server error\n            message.error(RESPONSE_TIME_OUT.message)\n        })\n    }\n\n    requestMarkCaptcha = () => {\n        axios.post(\n            API.captcha.mark,\n            this.encapsulationRequestData(),\n            HEADER_JSON\n            )\n        .then((response) => {\n            let status = response.data.status;\n            if (status === \"success\"){\n                // set success\n                this.setState({\n                    captcha: response.data.result.markedCaptcha,\n                    result: response.data.result.results\n                })\n            }else {\n                // set failed\n                message.error(response.data.message)\n            }\n        })\n        .catch(() => {\n            // server error\n            message.error(RESPONSE_TIME_OUT.message)\n        })\n    }\n\n    renderCaptcha = () => {\n        return (\n            <div style={{margin:\"0 auto\", width: 350, height: 250, borderRadius: \"20px\", boxShadow: \"0px 2px 20px #696969\", lineHeight: \"250px\", background: \"rgba(255, 255, 255, 1.0)\"}}>\n                <img \n                src={\"data:image/png;base64,\" + this.state.captcha} \n                style={{width: 293, height:190, margin: \"0 auto\", verticalAlign: \"middle\"}}\n                />\n            </div>\n        )\n    }\n\n    renderResult = () => {\n        if (this.state.result){\n            return (\n                <div style={{margin: \"0 auto\", width: 350, height: 180, borderRadius: \"20px\", boxShadow: \"0px 2px 20px #696969\", background: \"rgba(255, 255, 255, 1.0)\", padding: \"10px 0 0 0\"}}>\n                    <Card title=\"Coordinate\" bordered={false} style={{ width: 300, margin:\"auto\"}}>\n                        <p>{JSON.stringify(this.state.result)}</p>\n                    </Card>\n                </div>\n            )\n        }\n    }\n\n    render () {\n        return (\n            <div className=\"App\">\n                {/* <Layout>\n                    <Header>Header</Header>\n                </Layout> */}\n                <div className=\"headers\" style={{textAlign:\"center\", padding: \"15px 0\", height: \"80px\", backgroundImage: \"linear-gradient(15deg, #13547a 0%, #80d0c7 100%)\", boxShadow: \"0px 2px 20px #696969\"}}>\n                    <h1 style={{color: \"rgba(245, 245, 245, 1.0)\"}}>Mark 12306 Captcha</h1>\n                </div>\n\n                <div className=\"body\" style={{height: \"calc(100vh - 80px)\", background: \"rgba(100, 100, 100, 0.1)\"}}>\n                    <div style={{padding: \"5% 0\"}}>\n                        <Row>\n                            <Col span={8}></Col>\n                            <Col span={8} style={{textAlign: \"center\", display: \"flex\", alignItems: \"center\"}}>\n                                {this.renderCaptcha()}\n                            </Col>\n                            <Col span={8}></Col>\n                        </Row>\n                        <Row style={{padding: \"20px 0 0 0\"}}>\n                            <Col span={8}></Col>\n                            <Col span={8} style={{textAlign: \"center\", display: \"flex\", alignItems: \"center\"}}>\n                                {this.renderResult()}\n\n                            </Col>\n                            <Col span={8}></Col>\n                        </Row>\n                        <Row style={{padding: \"10px 0 0 0\"}}>\n                            <Col span={8}></Col>\n                            <Col span={8}>\n                                <Button type=\"primary\" onClick={() => this.requestGetCaptcha()} size=\"large\" shape=\"round\"  style={{width: 165, margin:\"10px\"}}>Get</Button>\n                                <Button type=\"primary\" onClick={() => this.requestMarkCaptcha()} size=\"large\" shape=\"round\"  style={{width: 165, margin:\"10px\"}}>Mark</Button>\n                            </Col>\n                            <Col span={8}></Col>\n                        </Row>  \n                    </div>\n                </div>\n\n                {/* <Content style={{textAlign: \"center\", border: \"1px solid red\", margin: \"auto\"}}>\n                    {this.renderCaptcha()}\n                    {this.renderResult()}\n                    <Button type=\"primary\" onClick={() => this.requestGetCaptcha()}>Get</Button>\n                    <Button type=\"primary\" onClick={() => this.requestMarkCaptcha()}>Mark</Button>\n                </Content> */}\n                {/* <Footer>Foorter</Footer> */}\n                \n            </div>\n        )\n    }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}